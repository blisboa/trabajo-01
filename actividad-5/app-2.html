<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ejemplo 1 - Perritos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

    <div class="container py-5 text-center">
        <h1 class="mb-4">Ejemplo 2 - Generador de Perritos</h1>
        
        <div class="card mx-auto shadow" style="max-width: 400px;">
            <img id="fotoPerrito" src="" class="card-img-top">
            <div class="card-body">
                <button onclick="cargarPerrito()" class="btn btn-success w-100">Â¡Traer otro!</button>
            </div>
        </div>
    </div>
    <p id="mensajeError" class="text-danger mt-3"></p>

    <script>
async function cargarPerrito() {
  const mensajeError = document.getElementById("mensajeError");
  mensajeError.textContent = ""; // limpiamos mensajes anteriores

  try {
    const respuesta = await fetch("https://dog.ceo/api/breeds/image/random");

    if (!respuesta.ok) {
      throw new Error("No se pudo obtener la imagen del perrito");
    }

    const datos = await respuesta.json();

    document.getElementById("fotoPerrito").src = datos.message;

  } catch (error) {
    console.error(error);
    mensajeError.textContent = "Error al cargar el perrito. Intenta nuevamente.";
  }
}
</script>

</body>
</html>
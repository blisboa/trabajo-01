<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ejemplo 1 - Usuarios</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">

  <button class="btn btn-primary" onclick="cargarUsuarios()">
    Cargar usuarios
  </button>

  <ul id="listaUsuarios" class="list-group mt-3"></ul>

<script>
async function cargarUsuarios() {
  try {
    const response = await fetch("https://jsonplaceholder.typicode.com/users");

    console.log(response);

    if (!response.ok) {
      throw new Error("Error al obtener los usuarios");
    }

    const usuarios = await response.json();
    console.log(usuarios);

    const lista = document.getElementById("listaUsuarios");
    lista.innerHTML = "";

    usuarios.forEach(usuario => {
      lista.innerHTML += `
        <li class="list-group-item">
          ${usuario.name} - ${usuario.email} - ${usuario.company.name}
        </li>
      `;
    });

  } catch (error) {
    console.error("Ocurri√≥ un error:", error);

    const lista = document.getElementById("listaUsuarios");
    lista.innerHTML = `
      <li class="list-group-item text-danger">
        No se pudieron cargar los usuarios
      </li>
    `;
  }
}
</script>

</body>
</html>
